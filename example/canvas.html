<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>canvas</title>
</head>
<body>
    <div style="width: 200px; height: 200px;">
        <canvas id="test" width="400" height="400" style="width: 100%; height: 100%;"></canvas>
    </div>
    <script src="../dep/requirejs/require.js"></script>
    <script>
        require.config({
            baseUrl: '../src',
            packages: [
            {
                name: 'hf-caf',
                location: '../dep/hf-caf/src',
                main: 'main'
            },
            {
                name: 'hf-emitter',
                location: '../dep/hf-emitter/src',
                main: 'main'
            },
            {
                name: 'hf-raf',
                location: '../dep/hf-raf/src',
                main: 'main'
            },
            {
                name: 'hf-timeline',
                location: '../dep/hf-timeline/src',
                main: 'main'
            },
            {
                name: 'hf-css',
                location: '../dep/hf-css/src',
                main: 'main'
            },
            {
                name: 'hf-type',
                location: '../dep/hf-type/src',
                main: 'main'
            },
            {
                name: 'hf-util',
                location: '../dep/hf-util/src',
                main: 'main'
            }
            ]
        });
        require(['Target', 'Keyframe'], function (Target, Keyframe) {
            var canvas = document.getElementById('test');
            var ctx = canvas.getContext('2d');

            var dpr = window.devicePixelRatio;

            if (dpr !== 1) {
                ctx.scale(dpr, dpr);
            }

            function draw(style) {
                ctx.clearRect(0, 0, 400, 400);

                var r = style.r || 10;
                var x = style.x || 50;
                var y = style.y || 50;

                ctx.beginPath();
                ctx.moveTo(x + r, y);
                ctx.arc(x, y, r, 0, 2 * Math.PI, true);
                ctx.closePath();
                ctx.strokeStyle= 'rgba(255,143,9,1)';
                ctx.shadowColor = 'rgba(255,143,9,1)';
                ctx.shadowBlur = 3;
                ctx.lineWidth = 1;
                ctx.stroke();
            }

            var target = new Target();

            target.frame = draw;

            var keyframe = new Keyframe({
                duration: 2000,
                iterations: Infinity,
                keyframes: [
                {r: 5},
                {r: 30}
                ]
            });

            target.run(keyframe);
        });
    </script>
</body>
</html>
